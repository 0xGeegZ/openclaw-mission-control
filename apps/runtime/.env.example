# Runtime service environment variables
# Copy to .env in this directory (apps/runtime). Load manually or via your process manager.
# See README.md for how this service fits in Mission Control.

# --- Required ---
# Convex account ID this runtime serves (Id<"accounts"> from Convex).
ACCOUNT_ID=

# Convex deployment URL (same deployment as the web app).
CONVEX_URL=https://your-deployment.convex.cloud

# Service authentication token. Used to call Convex service-only actions.
# Must be scoped to the account; create via your Convex auth setup.
SERVICE_TOKEN=

# --- Optional (defaults in parentheses) ---
# Port for the health HTTP server (GET /health, GET /version).
HEALTH_PORT=3001

# Notification delivery poll interval in milliseconds.
DELIVERY_INTERVAL=5000

# Interval in ms for reporting runtime status to Convex (online/versions).
HEALTH_CHECK_INTERVAL=60000

# Interval in ms for syncing agent list from Convex (new agents picked up without restart; default 60000).
# AGENT_SYNC_INTERVAL=60000

# Runtime service version (defaults to package.json version).
# RUNTIME_VERSION=0.1.0

# OpenClaw version override if detection fails (default: detected via openclaw --version).
# OPENCLAW_VERSION=

# --- Logging & observability ---
# Log level: debug | info | warn | error (default: info).
# LOG_LEVEL=info

# Bind address for health HTTP server (default: 127.0.0.1 for local-only).
# Use 0.0.0.0 when running in Docker so healthcheck can reach the server.
# HEALTH_HOST=127.0.0.1

# --- Delivery backoff (on poll errors) ---
# Base delay in ms for exponential backoff (default: 5000).
# DELIVERY_BACKOFF_BASE_MS=5000
# Max delay in ms (default: 300000 = 5 min).
# DELIVERY_BACKOFF_MAX_MS=300000

# When upgrade/restart is requested: "exit" (default) exits so process manager restarts.
# UPGRADE_MODE=exit

# --- OpenClaw gateway (when using docker-compose with profile openclaw) ---
# Gateway auth token. Default "local" for local dev; set for remote access.
# CLAWDBOT_GATEWAY_TOKEN=local
# Vercel AI Gateway API key (recommended). When set, agents use Haiku 4.5 primary, Sonnet 4.5 fallback.
# VERCEL_AI_GATEWAY_API_KEY=

# --- Infrastructure (for tracking; reported in health and Convex) ---
# DigitalOcean droplet identifier.
# DROPLET_ID=
# DROPLET_IP=
# DROPLET_REGION=
